# Command Preview

Fetches the command's preview data or executes the preview item

## Get command's preview data

| URL                        | Requires Auth | HTTP Method |
| :------------------------- | :------------ | :---------- |
| `/api/v1/commands.preview` | `yes`         | `GET`       |

### Payload

| Argument  | Example             | Required                           | Description                             |
| :-------- | :------------------ | :--------------------------------- | :-------------------------------------- |
| `command` | `unmute`            | Required                           | The name of the command to be executed. |
| `roomId`  | `ByehQjC44FwMeiLbX` | Required                           | The ID of the room.                     |
| `params`  | `@user123`          | Optional <br> Default: `undefined` | Parameters of the command if required.  |

## Execute a command's preview item

| URL                        | Requires Auth | HTTP Method |
| :------------------------- | :------------ | :---------- |
| `/api/v1/commands.preview` | `yes`         | `POST`      |

### Payload

| Argument            | Example                | Required                           | Description                                                                           |
| :------------------ | :--------------------- | :--------------------------------- | :------------------------------------------------------------------------------------ |
| `command`           | `unmute`               | Required                           | The name of the command to be executed.                                               |
| `roomId`            | `ByehQjC44FwMeiLbX`    | Required                           | The ID of the room.                                                                   |
| `tmid`              | `Hsj2435g4bvrj4bjh`    | Optional                           | The ID of the thread to run the command.                                              |
| `params`            | `@user123`             | Optional <br> Default: `undefined` | Parameters of the command if required.                                                |
| `triggerId`         | `awovufbukuefzuper`    | Optional                           | The triggerId generated by the client that allows the command to interact with the UI |
| `previewItem`       | Object                 | Required                           | The data of the preview item to be executed by the command                            |
| `previewItem.id`    | `nucobdipokaikazia`    | Required                           | The ID of the selected preview item                                                   |
| `previewItem.type`  | `image`                | Required                           | The type of the selected preview item                                                 |
| `priviewItem.value` | `https://dev.null/gif` | Required                           | The value of the selected preview item                                                |

## Change Log

| Version | Description                         |
| :------ | :---------------------------------- |
| 3.0.0   | Added `tmid` and `triggerId` fields |
| 0.65.0  | Added                               |
